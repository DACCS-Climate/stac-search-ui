{% set dropdown_library = {
        "default_dropdown_list": {
            "container_class":"dropdown-list-container",
            "list_items":[
                {
                    "item_type": "link",
                    "item_id": "catalogsCheckbox",
                    "item_label": "Catalogs"
                },
                {
                    "item_type":"link",
                    "item_id": "collectionsCheckbox",
                    "item_label": "Collections"
                },
                {
                    "item_type":"link",
                    "item_id": "datasetsCheckbox",
                    "item_label": "Data Sets"
                }
            ],
        },
         "regular_dropdown_source": {
            "dropdown_icon": "<i id='dropdownSourceIcon' class='fa-solid fa-link dropdown-regular-icon'></i>"
        },
        "regular_dropdown_share": {
            "title_icon": "<i class='fa-solid fa-share-nodes dropdown-regular-icon'></i>",
            "panel_icons":[
                {"share_icon": "<i class='fa-brands fa-square-x-twitter'></i>"},
                {"share_icon": "<i class='fa-solid fa-square-envelope'></i>"}
            ],

        },
    }
%}



<!--<div class="dropdown-chevron-container">
                <i id="{#  #} chevron_id }}" class="fa-solid fa-chevron-down dropdown-chevron"></i>
            </div>-->

{% if dropdown_type == "default_dropdown_list" %}
    <div class="dropdown">
        <a class="btn btn-secondary dropdown-toggle test-dropdown-title" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
            {{ dropdown_label_text }}

        </a>

        <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
            {% for item in dropdown_library[dropdown_type]["list_items"] %}
                <li><hr class='dropdown-custom-divider'></li>
                <li>
                    {% with %}
                        {% set checkbox_label = item["item_label"]|safe %}
                        {% set checkbox_id = item["item_id"] %}
                        {% include "partials/checkbox.html" %}
                    {% endwith %}
                </li>
            {% endfor %}

        </ul>
    </div>

{% endif %}
<!-- TODO: Find a way to override .btn hover styles for dropdown panel but without interfering with other elements using .btn-->
{% if dropdown_type == "regular_dropdown_share" %}
    <div class="dropdown-panel-container">
        <div class="dropdown">
            <a id="{{ dropdown_share_id }}" class="btn btn-secondary dropdown-toggle dropdown-panel-title" href="#" role="button" data-bs-toggle="dropdown"  data-bs-display="static" aria-expanded="false">
                <div>
                    {{ dropdown_label_text }} {{ dropdown_library[dropdown_type]["title_icon"]|safe }}
                </div>
            </a>

            <ul class="dropdown-menu" aria-labelledby="{{ dropdown_share_id }}">
                <li>
                    <div class="dropdown-panel">
                        <div class="dropdown-panel-content">
                            {%  for icon in dropdown_library["regular_dropdown_share"]["panel_icons"] %}
                                <a class="icon-share-panel"> {{ icon["share_icon"]|safe }}  </a>
                            {% endfor %}


                        </div>
                    </div>
                </li>
            </ul>
        </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var dropdownPanelShare = document.getElementById("{{ dropdown_share_id }}");
            dropdownPanelShare.addEventListener('click', function () {
                toggleChevronRotate(dropdownPanelShare.id);
                toggleDropdownPanelBackground(dropdownPanelShare.id);
            })
        })
    </script>
    </div>
{% endif %}